// ==UserScript==
// @name          FFZ Hide Purchase Options
// @namespace     dynamite-andy
// @version       1.4.0
// @iconURL       https://github.com/andrewcartwright1/ffz-hide-purchase-options/blob/main/src/resources/icons/favicon32x32.ico?raw=true
// @icon64URL     https://github.com/andrewcartwright1/ffz-hide-purchase-options/blob/main/src/resources/icons/favicon64x64.ico?raw=true
// @updateURL     https://github.com/andrewcartwright1/ffz-hide-purchase-options/raw/main/dist/ffz-hide-purchase-options.min.user.js
// @downloadURL   https://github.com/andrewcartwright1/ffz-hide-purchase-options/raw/main/dist/ffz-hide-purchase-options.min.user.js
// @supportURL    https://github.com/andrewcartwright1/ffz-hide-purchase-options/issues
// @description   Unofficial FFZ addon giving options to remove purchases from twitch
// @author        Dynamite Andy - dynamiteandy@gmail.com
// @include       http*://*.twitch.tv/*
// @include       http*://*.ext-twitch.tv/*
// @exclude       /^(.+):\/\/(?:localhost\.rig|blog|im|chatdepot|tmi|api|brand|dev|gql|passport|supervisor)\.(ext-twitch|twitch).tv/
// @run-at        document-start
// @grant         GM_getValue
// @grant         GM_setValue
// @grant         GM_deleteValue
// @grant         GM_addStyle
// ==/UserScript==

// Last Updated: 03/09/2023, 21:54:31

!function t(e,s,n){function o(a,u){if(!s[a]){if(!e[a]){var d="function"==typeof require&&require;if(!u&&d)return d(a,!0);if(i)return i(a,!0);var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r}var c=s[a]={exports:{}};e[a][0].call(c.exports,(function(t){return o(e[a][1][t]||t)}),c,c.exports,t,e,s,n)}return s[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={settings:{get:t=>GM_getValue(t,!0),set:(t,e)=>{GM_setValue(t,e)}}}},{}],2:[function(t,e,s){"use strict";var n,o,i,a;Object.defineProperty(s,"__esModule",{value:!0}),s.Constants=void 0;const u="addon.hide_purchase_options";class d{}s.Constants=d,d.InIframe="www.twitch.tv"!==window.location.host,d.Styles=((n=class{}).Root="ffz-hide-purchase-options",n.Base="ffz-h-p-hide",n.GiftASub="hide-gift-a-sub",n.ManageYourSub="hide-manage-your-sub",n.Bits="hide-bits",n.Subscribe="hide-subscribe",n.Resubscribe="hide-resubscribe",n.ContinueSub="hide-continue-sub",n.UpdateSub="hide-update-sub",n.CompletePurchase="hide-complete-purchase",n.Subtember="hide-subtember",n.Turbo="hide-turbo",n.Extensions=((o=class{}).EmotesShowcase="hide-emotes-showcase",o.LatestFollowers="hide-latest-followers",o),n),d.Settings=((i=class{}).prefix=`${u}.support-panel`,i.GiftASub=`${i.prefix}.gift_a_sub`,i.ManageYourSub=`${i.prefix}.go_above_and_beyond`,i.Bits=`${i.prefix}.bits`,i.ContinueSub=`${i.prefix}.continue_sub`,i.UpdateSub=`${i.prefix}.update_sub`,i.Subscribe=`${i.prefix}.subscribe`,i.Resubscribe=`${i.prefix}.resubscribe`,i.CompletePurchase=`${i.prefix}.complete_purchase`,i.Subtemeber=`${i.prefix}.subtember`,i.Turbo=`${i.prefix}.turbo`,i.Extensions=((a=class{}).prefix=`${u}.support-panel.extensions`,a.Text=`${a.prefix}.text`,a.EmotesShowcase=`${a.prefix}.emotes_showcase`,a.LatestFollowers=`${a.prefix}.latest_followers`,a),i)},{}],3:[function(t,e,s){"use strict";var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(o,i){function a(t){try{d(n.next(t))}catch(t){i(t)}}function u(t){try{d(n.throw(t))}catch(t){i(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,u)}d((n=n.apply(t,e||[])).next())}))};Object.defineProperty(s,"__esModule",{value:!0});const o=t("./constants"),i=t("./scripts/helpers/wait");n(void 0,void 0,void 0,(function*(){const e=t("./styles/index"),s=t("./scripts/settings-menu"),n=t("./scripts/bits"),a=t("./scripts/continue-sub"),u=t("./scripts/update-sub"),d=t("./scripts/complete-purchase"),r=t("./scripts/gift"),c=t("./scripts/manage-your-sub"),p=t("./scripts/resubscribe"),l=t("./scripts/subscribe"),b=t("./scripts/extensions/emotes-showcase"),f=t("./scripts/extensions/latest-followers"),h=t("./scripts/subtember"),y=t("./scripts/turbo");o.Constants.InIframe?yield(0,i.until)((()=>"complete"===document.readyState)):(yield(0,i.until)((()=>{var t,e;return!0===(null===(e=null===(t=unsafeWindow.ffz)||void 0===t?void 0:t.addons)||void 0===e?void 0:e.loaded)})),s.render()),e.apply(),n.apply(),a.apply(),u.apply(),d.apply(),r.apply(),c.apply(),p.apply(),l.apply(),b.apply(),h.apply(),f.apply(),o.Constants.InIframe||(yield(0,i.until)((()=>null!==document.querySelector("nav .ffz-top-nav")))),y.apply()}))},{"./constants":2,"./scripts/bits":4,"./scripts/complete-purchase":5,"./scripts/continue-sub":6,"./scripts/extensions/emotes-showcase":7,"./scripts/extensions/latest-followers":8,"./scripts/gift":9,"./scripts/helpers/wait":11,"./scripts/manage-your-sub":12,"./scripts/resubscribe":14,"./scripts/settings-menu":15,"./scripts/subscribe":16,"./scripts/subtember":17,"./scripts/turbo":18,"./scripts/update-sub":19,"./styles/index":20}],4:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.Bits,n.Constants.Styles.Bits);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],5:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.CompletePurchase,n.Constants.Styles.CompletePurchase);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],6:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.ContinueSub,n.Constants.Styles.ContinueSub);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],7:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../../constants"),o=new(t("../models/Setting").default)(n.Constants.Settings.Extensions.EmotesShowcase,n.Constants.Styles.Extensions.EmotesShowcase,!0);s.apply=()=>o.listen()},{"../../constants":2,"../models/Setting":13}],8:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../../constants"),o=new(t("../models/Setting").default)(n.Constants.Settings.Extensions.LatestFollowers,n.Constants.Styles.Extensions.LatestFollowers,!0);s.apply=()=>o.listen()},{"../../constants":2,"../models/Setting":13}],9:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.GiftASub,n.Constants.Styles.GiftASub);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],10:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.parse=void 0;s.parse=t=>1===(null==t?void 0:t.length)?{value:t[0]}:2===(null==t?void 0:t.length)?{value:t[0],oldValue:t[1]}:{}},{}],11:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.until=s.waitForElement=void 0;s.waitForElement=(t=document,e)=>new Promise((s=>{if(t.querySelector(e))return s(document.querySelector(e));const n=new MutationObserver((()=>{t.querySelector(e)&&(s(t.querySelector(e)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})}));s.until=t=>{const e=s=>t()?s():setTimeout((()=>e(s)),500);return new Promise(e)}},{}],12:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.ManageYourSub,n.Constants.Styles.ManageYourSub);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],13:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t("../../config"),o=t("../../constants"),i=t("../helpers/get-changes-args-util");s.default=class{constructor(t,e,s=!1,n=null){this.settingId=t,this.styleClass=e,this.tampermonkeySetting=s,this.settingFunction=n}listen(){o.Constants.InIframe&&this.tampermonkeySetting?this.setClass(n.default.settings.get(this.settingId)):o.Constants.InIframe||unsafeWindow.ffz.addons.settings.getChanges(this.settingId,this.setClass.bind(this))}setClass(...t){const{value:e}=(0,i.parse)(t);this.tampermonkeySetting&&n.default.settings.set(this.settingId,e),e?document.body.classList.add(this.styleClass):document.body.classList.remove(this.styleClass),this.settingFunction&&this.settingFunction(e)}}},{"../../config":1,"../../constants":2,"../helpers/get-changes-args-util":10}],14:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.Resubscribe,n.Constants.Styles.Resubscribe);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],15:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.render=void 0;const n=t("../constants"),o="Add-Ons > Hide Purchase Options",i=`${o} >> Purchase Options`,a=`${o} >> Extensions`;s.render=()=>{unsafeWindow.ffz.addons.settings.addUI("add_ons.hide_purchase_options",{path:i,component:"container"}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Bits,{default:!0,ui:{path:i,title:'Hide "Get Bits"',description:'Hides the "Get Bits" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.ContinueSub,{default:!0,ui:{path:i,title:'Hide "Continue Sub"',description:'Hides the "Continue Sub" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.CompletePurchase,{default:!0,ui:{path:i,title:'Hide "Complete Purchase"',description:'Hides the "Complete Purchase" button',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.GiftASub,{default:!0,ui:{path:i,title:'Hide "Gift a Sub"',description:'Hides the "Gift a Sub" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.ManageYourSub,{default:!0,ui:{path:i,title:'Hide "Manage Your Sub"',description:'Hides the "Manage Your Sub" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Resubscribe,{default:!0,ui:{path:i,title:'Hide "Resubscribe"',description:'Hides the "Resubscribe" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Subscribe,{default:!0,ui:{path:i,title:'Hide "Subscribe"',description:'Hides the "Subscribe" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Subtemeber,{default:!0,ui:{path:i,title:'Hide "Subtember"',description:'Hides the "Subtember" advert',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Turbo,{default:!0,ui:{path:i,title:'Hide "Turbo"',description:'Hides the "Turbo" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.UpdateSub,{default:!0,ui:{path:i,title:'Hide "Update Sub"',description:'Hides the "Update Subscription" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Extensions.EmotesShowcase,{default:!0,ui:{path:a,title:'Hide "Emotes Showcase"',description:"Hides payment options on the Emotes Showcase extension (Requires page reload to take effect)",component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Extensions.LatestFollowers,{default:!0,ui:{path:a,title:'Hide "Latest Followers"',description:"Hides payment options on the Latest Followers extension (Requires page reload to take effect)",component:"setting-check-box"}})}},{"../constants":2}],16:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.Subscribe,n.Constants.Styles.Subscribe);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],17:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.Subtemeber,n.Constants.Styles.Subtember);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],18:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=t("./models/Setting");let i=null;const a=new o.default(n.Constants.Settings.Turbo,n.Constants.Styles.Turbo,!1,(t=>{var e,s;if(!i){let t=null;for(const e of[...document.querySelectorAll('[data-a-target="top-nav-container"] [data-a-target="tw-core-button-label-text"]')])if("Get Ad-Free"===e.textContent.trim()){t=e;break}for(;t;){if(null===(s=null===(e=t.nextElementSibling)||void 0===e?void 0:e.classList)||void 0===s?void 0:s.contains("ffz-top-nav")){i=t;break}t=t.parentElement}}i&&(t?i.classList.add(n.Constants.Styles.Base):i.classList.remove(n.Constants.Styles.Base))}));s.apply=()=>a.listen()},{"../constants":2,"./models/Setting":13}],19:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),o=new(t("./models/Setting").default)(n.Constants.Settings.UpdateSub,n.Constants.Styles.UpdateSub);s.apply=()=>o.listen()},{"../constants":2,"./models/Setting":13}],20:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants");s.apply=()=>{document.body.classList.add(n.Constants.Styles.Root),GM_addStyle('body.ffz-hide-purchase-options .ffz-h-p-hide {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-bits button[data-test-selector=get-bits-button],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=top-nav-get-bits-button],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-100],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-500],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-1500],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-5000],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-10000],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-25000],\nbody.ffz-hide-purchase-options.hide-bits a[data-test-selector=test_selector_buy_bits_button] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-manage-your-sub button[data-a-target=spm-complete-purchase-button] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 7 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 6 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 5 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 4 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 3 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[data-test-selector=PaidUpgradeButton] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-gift-a-sub button[aria-label="Gift a Sub"],\nbody.ffz-hide-purchase-options.hide-gift-a-sub button[data-test-selector=gift-subscribe-button],\nbody.ffz-hide-purchase-options.hide-gift-a-sub button[data-test-selector=take-the-leaderboard-prompt-button] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-manage-your-sub button[aria-label="Manage Your Sub"] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-resubscribe button[aria-label="Resubscribe: 25% off"],\nbody.ffz-hide-purchase-options.hide-resubscribe button[aria-label=Resubscribe] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-subscribe button[aria-label="Subscribe: 25% off"],\nbody.ffz-hide-purchase-options.hide-subscribe button[aria-label=Subscribe] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-subtember .subtember-gradient {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-update-sub button[aria-label="Update Subscription"] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-emotes-showcase a[title=Subscribe] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-latest-followers[data-active=recent] #recent-panel .btn.buy {\n  display: none !important;\n}')}},{"../constants":2}]},{},[3]);