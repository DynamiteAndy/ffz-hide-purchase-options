// ==UserScript==
// @name          FFZ Hide Purchase Options
// @namespace     dynamite-andy
// @version       1.2.0
// @iconURL       https://github.com/andrewcartwright1/ffz-hide-purchase-options/blob/main/src/resources/icons/favicon32x32.ico?raw=true
// @icon64URL     https://github.com/andrewcartwright1/ffz-hide-purchase-options/blob/main/src/resources/icons/favicon64x64.ico?raw=true
// @updateURL     https://github.com/andrewcartwright1/ffz-hide-purchase-options/raw/main/dist/ffz-hide-purchase-options.min.user.js
// @downloadURL   https://github.com/andrewcartwright1/ffz-hide-purchase-options/raw/main/dist/ffz-hide-purchase-options.min.user.js
// @supportURL    https://github.com/andrewcartwright1/ffz-hide-purchase-options/issues
// @description   Unofficial FFZ addon giving options to remove purchases from twitch
// @author        Dynamite Andy - dynamiteandy@gmail.com
// @include       http*://*.twitch.tv/*
// @include       http*://*.ext-twitch.tv/*
// @exclude       /^(.+):\/\/(?:localhost\.rig|blog|im|chatdepot|tmi|api|brand|dev|gql|passport|supervisor)\.(ext-twitch|twitch).tv/
// @run-at        document-start
// @grant         GM_getValue
// @grant         GM_setValue
// @grant         GM_deleteValue
// @grant         GM_addStyle
// ==/UserScript==

// Last Updated: 03/09/2023, 19:52:21

!function t(e,s,n){function i(a,u){if(!s[a]){if(!e[a]){var d="function"==typeof require&&require;if(!u&&d)return d(a,!0);if(o)return o(a,!0);var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r}var c=s[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,s,n)}return s[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={settings:{get:t=>GM_getValue(t,!0),set:(t,e)=>{GM_setValue(t,e)}}}},{}],2:[function(t,e,s){"use strict";var n,i,o,a;Object.defineProperty(s,"__esModule",{value:!0}),s.Constants=void 0;const u="addon.hide_purchase_options";class d{}s.Constants=d,d.InIframe="www.twitch.tv"!==window.location.host,d.Styles=((n=class{}).Root="ffz-hide-purchase-options",n.GiftASub="hide-gift-a-sub",n.ManageYourSub="hide-manage-your-sub",n.Bits="hide-bits",n.Subscribe="hide-subscribe",n.Resubscribe="hide-resubscribe",n.ContinueSub="hide-continue-sub",n.UpdateSub="hide-update-sub",n.CompletePurchase="hide-complete-purchase",n.Subtember="hide-subtember",n.Extensions=((i=class{}).EmotesShowcase="hide-emotes-showcase",i),n),d.Settings=((o=class{}).prefix=`${u}.support-panel`,o.GiftASub=`${o.prefix}.gift_a_sub`,o.ManageYourSub=`${o.prefix}.go_above_and_beyond`,o.Bits=`${o.prefix}.bits`,o.ContinueSub=`${o.prefix}.continue_sub`,o.UpdateSub=`${o.prefix}.update_sub`,o.Subscribe=`${o.prefix}.subscribe`,o.Resubscribe=`${o.prefix}.resubscribe`,o.CompletePurchase=`${o.prefix}.complete_purchase`,o.Subtemeber=`${o.prefix}.subtember`,o.Extensions=((a=class{}).prefix=`${u}.support-panel.extensions`,a.Text=`${a.prefix}.text`,a.EmotesShowcase=`${a.prefix}.emotes_showcase`,a),o)},{}],3:[function(t,e,s){"use strict";var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,o){function a(t){try{d(n.next(t))}catch(t){o(t)}}function u(t){try{d(n.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,u)}d((n=n.apply(t,e||[])).next())}))};Object.defineProperty(s,"__esModule",{value:!0});const i=t("./constants"),o=t("./scripts/helpers/wait");n(void 0,void 0,void 0,(function*(){const e=t("./styles/index"),s=t("./scripts/settings-menu"),n=t("./scripts/bits"),a=t("./scripts/continue-sub"),u=t("./scripts/update-sub"),d=t("./scripts/complete-purchase"),r=t("./scripts/gift"),c=t("./scripts/manage-your-sub"),p=t("./scripts/resubscribe"),b=t("./scripts/subscribe"),l=t("./scripts/extensions/emotes-showcase"),f=t("./scripts/subtember");i.Constants.InIframe?yield(0,o.until)((()=>"complete"===document.readyState)):(yield(0,o.until)((()=>{var t,e;return!0===(null===(e=null===(t=unsafeWindow.ffz)||void 0===t?void 0:t.addons)||void 0===e?void 0:e.loaded)})),s.render()),e.apply(),n.apply(),a.apply(),u.apply(),d.apply(),r.apply(),c.apply(),p.apply(),b.apply(),l.apply(),f.apply()}))},{"./constants":2,"./scripts/bits":4,"./scripts/complete-purchase":5,"./scripts/continue-sub":6,"./scripts/extensions/emotes-showcase":7,"./scripts/gift":8,"./scripts/helpers/wait":10,"./scripts/manage-your-sub":11,"./scripts/resubscribe":13,"./scripts/settings-menu":14,"./scripts/subscribe":15,"./scripts/subtember":16,"./scripts/update-sub":17,"./styles/index":18}],4:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.Bits,n.Constants.Styles.Bits);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],5:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.CompletePurchase,n.Constants.Styles.CompletePurchase);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],6:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.ContinueSub,n.Constants.Styles.ContinueSub);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],7:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../../constants"),i=new(t("../models/Setting").default)(n.Constants.Settings.Extensions.EmotesShowcase,n.Constants.Styles.Extensions.EmotesShowcase,!0);s.apply=()=>i.listen()},{"../../constants":2,"../models/Setting":12}],8:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.GiftASub,n.Constants.Styles.GiftASub);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],9:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.parse=void 0;s.parse=t=>1===(null==t?void 0:t.length)?{value:t[0]}:2===(null==t?void 0:t.length)?{value:t[0],oldValue:t[1]}:{}},{}],10:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.until=s.waitForElement=void 0;s.waitForElement=(t=document,e)=>new Promise((s=>{if(t.querySelector(e))return s(document.querySelector(e));const n=new MutationObserver((()=>{t.querySelector(e)&&(s(t.querySelector(e)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})}));s.until=t=>{const e=s=>t()?s():setTimeout((()=>e(s)),500);return new Promise(e)}},{}],11:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.ManageYourSub,n.Constants.Styles.ManageYourSub);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],12:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t("../../config"),i=t("../../constants"),o=t("../helpers/get-changes-args-util");s.default=class{constructor(t,e,s=!1){this.settingId=t,this.styleClass=e,this.tampermonkeySetting=s}listen(){i.Constants.InIframe&&this.tampermonkeySetting?this.setClass(n.default.settings.get(this.settingId)):i.Constants.InIframe||unsafeWindow.ffz.addons.settings.getChanges(this.settingId,this.setClass.bind(this))}setClass(...t){const{value:e}=(0,o.parse)(t);this.tampermonkeySetting&&n.default.settings.set(this.settingId,e),e?document.body.classList.add(this.styleClass):document.body.classList.remove(this.styleClass)}}},{"../../config":1,"../../constants":2,"../helpers/get-changes-args-util":9}],13:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.Resubscribe,n.Constants.Styles.Resubscribe);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],14:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.render=void 0;const n=t("../constants"),i="Add-Ons > Hide Purchase Options",o=`${i} >> Purchase Options`,a=`${i} >> Extensions`;s.render=()=>{unsafeWindow.ffz.addons.settings.addUI("add_ons.hide_purchase_options",{path:o,component:"container"}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Bits,{default:!0,ui:{path:o,title:'Hide "Get Bits"',description:'Hides the "Get Bits" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.ContinueSub,{default:!0,ui:{path:o,title:'Hide "Continue Sub"',description:'Hides the "Continue Sub" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.CompletePurchase,{default:!0,ui:{path:o,title:'Hide "Complete Purchase"',description:'Hides the "Complete Purchase" button',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.GiftASub,{default:!0,ui:{path:o,title:'Hide "Gift a Sub"',description:'Hides the "Gift a Sub" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.ManageYourSub,{default:!0,ui:{path:o,title:'Hide "Manage Your Sub"',description:'Hides the "Manage Your Sub" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Resubscribe,{default:!0,ui:{path:o,title:'Hide "Resubscribe"',description:'Hides the "Resubscribe" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Subscribe,{default:!0,ui:{path:o,title:'Hide "Subscribe"',description:'Hides the "Subscribe" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Subtemeber,{default:!0,ui:{path:o,title:'Hide "Subtember"',description:'Hides the "Subtember" advert',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.UpdateSub,{default:!0,ui:{path:o,title:'Hide "Update Sub"',description:'Hides the "Update Subscription" payment option',component:"setting-check-box"}}),unsafeWindow.ffz.addons.settings.add(n.Constants.Settings.Extensions.EmotesShowcase,{default:!0,ui:{path:a,title:'Hide "Emotes Showcase"',description:"Hides payment options on the Emotes Showcase extension (Requires page reload to take effect)",component:"setting-check-box"}})}},{"../constants":2}],15:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.Subscribe,n.Constants.Styles.Subscribe);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],16:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.Subtemeber,n.Constants.Styles.Subtember);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],17:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants"),i=new(t("./models/Setting").default)(n.Constants.Settings.UpdateSub,n.Constants.Styles.UpdateSub);s.apply=()=>i.listen()},{"../constants":2,"./models/Setting":12}],18:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.apply=void 0;const n=t("../constants");s.apply=()=>{document.body.classList.add(n.Constants.Styles.Root),GM_addStyle('body.ffz-hide-purchase-options .ffz-h-p-hide {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-bits button[data-test-selector=get-bits-button],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=top-nav-get-bits-button],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-100],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-500],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-1500],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-5000],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-10000],\nbody.ffz-hide-purchase-options.hide-bits button[data-a-target=bits-purchase-button-25000],\nbody.ffz-hide-purchase-options.hide-bits a[data-test-selector=test_selector_buy_bits_button] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-manage-your-sub button[data-a-target=spm-complete-purchase-button] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 7 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 6 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 5 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 4 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[aria-label="Continue Sub - 3 Days Remaining"],\nbody.ffz-hide-purchase-options.hide-continue-sub button[data-test-selector=PaidUpgradeButton] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-gift-a-sub button[aria-label="Gift a Sub"],\nbody.ffz-hide-purchase-options.hide-gift-a-sub button[data-test-selector=gift-subscribe-button],\nbody.ffz-hide-purchase-options.hide-gift-a-sub button[data-test-selector=take-the-leaderboard-prompt-button] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-manage-your-sub button[aria-label="Manage Your Sub"] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-resubscribe button[aria-label=Resubscribe] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-subscribe button[aria-label=Subscribe] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-subtember .subtember-gradient {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-update-sub button[aria-label="Update Subscription"] {\n  display: none !important;\n}\nbody.ffz-hide-purchase-options.hide-emotes-showcase a[title=Subscribe] {\n  display: none !important;\n}')}},{"../constants":2}]},{},[3]);